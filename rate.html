<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bloudan Jewellery - Live Gold Rates</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    font-family: 'Playfair Display', serif;
    background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
    color: #e8e8e8;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
  }

  .container {
    width: 100%;
    max-width: 900px;
    background: rgba(20, 20, 20, 0.85);
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    padding: 40px 30px;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(184, 134, 11, 0.3);
  }

  .container::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #b8860b, #d4af37, #b8860b);
  }

  .header {
    text-align: center;
    margin-bottom: 30px;
    position: relative;
  }

  .logo {
    font-family: 'Cinzel', serif;
    font-size: 3.5rem;
    font-weight: 700;
    color: #d4af37;
    text-shadow: 0 2px 10px rgba(212, 175, 55, 0.3);
    letter-spacing: 2px;
    margin-bottom: 5px;
  }

  .tagline {
    font-family: 'Cinzel', serif;
    font-size: 1.2rem;
    color: #b8860b;
    letter-spacing: 3px;
    margin-bottom: 10px;
  }

  .divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, #b8860b, transparent);
    margin: 20px 0;
  }

  .ounce-rate {
    text-align: center;
    margin: 30px 0;
    padding: 20px;
    background: rgba(184, 134, 11, 0.1);
    border-radius: 12px;
    border: 1px solid rgba(184, 134, 11, 0.2);
  }

  .ounce-rate-label {
    font-size: 1.1rem;
    color: #b8860b;
    margin-bottom: 8px;
    letter-spacing: 1px;
  }

  .ounce-rate-value {
    font-size: 2.8rem;
    font-weight: 600;
    color: #d4af37;
    text-shadow: 0 2px 8px rgba(212, 175, 55, 0.4);
  }

  .rates-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }

  .rate-card {
    background: linear-gradient(145deg, #2a2a2a, #1f1f1f);
    border-radius: 12px;
    padding: 25px 15px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(184, 134, 11, 0.2);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow: hidden;
  }

  .rate-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
  }

  .rate-card::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, #b8860b, #d4af37);
  }

  .karat {
    font-size: 1.8rem;
    font-weight: 600;
    color: #d4af37;
    margin-bottom: 10px;
  }

  .purity {
    font-size: 0.9rem;
    color: #aaa;
    margin-bottom: 15px;
  }

  .rate-value {
    font-size: 1.8rem;
    font-weight: 600;
    color: #fff;
    margin-bottom: 5px;
  }

  .unit {
    font-size: 0.9rem;
    color: #b8860b;
  }

  .timestamp {
    text-align: center;
    color: #888;
    font-size: 0.9rem;
    margin-top: 20px;
    padding: 10px;
    background: rgba(40, 40, 40, 0.7);
    border-radius: 8px;
  }

  .footer {
    text-align: center;
    margin-top: 30px;
    color: #666;
    font-size: 0.85rem;
  }

  .loading {
    text-align: center;
    color: #b8860b;
    font-size: 1.2rem;
    padding: 20px;
  }

  @media (max-width: 768px) {
    .container {
      padding: 25px 20px;
    }
    
    .logo {
      font-size: 2.8rem;
    }
    
    .ounce-rate-value {
      font-size: 2.2rem;
    }
    
    .karat, .rate-value {
      font-size: 1.5rem;
    }
    
    .rates-container {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 480px) {
    .container {
      padding: 20px 15px;
    }
    
    .logo {
      font-size: 2.2rem;
    }
    
    .tagline {
      font-size: 1rem;
    }
    
    .ounce-rate-value {
      font-size: 1.8rem;
    }
    
    .rates-container {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>

<div class="container">
  <div class="header">
    <div class="logo">BLOUDAN</div>
    <div class="tagline">JEWELLERY</div>
    <div class="divider"></div>
    <h1>Live Gold Rates</h1>
  </div>

  <div class="ounce-rate">
    <div class="ounce-rate-label">GOLD PRICE PER OUNCE</div>
    <div class="ounce-rate-value" id="ounceRate">Loading...</div>
  </div>

  <div class="rates-container">
    <div class="rate-card">
      <div class="karat">24K</div>
      <div class="purity">(99.9% Pure)</div>
      <div class="rate-value" id="rate24">Loading...</div>
      <div class="unit">KWD per gram</div>
    </div>
    <div class="rate-card">
      <div class="karat">22K</div>
      <div class="purity">(91.6% Pure)</div>
      <div class="rate-value" id="rate22">Loading...</div>
      <div class="unit">KWD per gram</div>
    </div>
    <div class="rate-card">
      <div class="karat">21K</div>
      <div class="purity">(87.5% Pure)</div>
      <div class="rate-value" id="rate21">Loading...</div>
      <div class="unit">KWD per gram</div>
    </div>
    <div class="rate-card">
      <div class="karat">18K</div>
      <div class="purity">(75.0% Pure)</div>
      <div class="rate-value" id="rate18">Loading...</div>
      <div class="unit">KWD per gram</div>
    </div>
  </div>

  <div class="timestamp" id="timestamp">Last updated: --</div>

  <div class="footer">
    <p>Rates update every 10 seconds | Â© 2023 Bloudan Jewellery. All rights reserved.</p>
  </div>
</div>

<script>
let USD_TO_KWD = 0.31;

function calculatePurities(pricePerGram) {
  return {
    '24K': pricePerGram,
    '22K': pricePerGram * 22/24,
    '21K': pricePerGram * 21/24,
    '18K': pricePerGram * 18/24
  };
}

async function fetchUSDToKWD() {
  try {
    const res = await fetch("https://open.er-api.com/v6/latest/USD");
    const data = await res.json();
    if (data && data.rates && data.rates.KWD) {
      USD_TO_KWD = data.rates.KWD + 0.002;
      console.log("USD/KWD rate:", USD_TO_KWD);
    }
  } catch(err) {
    console.error("Error fetching USD/KWD:", err);
  }
}

async function fetchGold() {
  try {
    const res = await fetch("https://api.gold-api.com/price/XAU");
    const data = await res.json();
    const pricePerOunce = data.price;
    const pricePerGram = pricePerOunce / 31.1035;
    const purities = calculatePurities(pricePerGram);

    // Update display
    document.getElementById("ounceRate").innerText = `$${pricePerOunce.toFixed(2)}`;
    document.getElementById("rate24").innerText = `${(purities['24K']*USD_TO_KWD).toFixed(3)}`;
    document.getElementById("rate22").innerText = `${(purities['22K']*USD_TO_KWD).toFixed(3)}`;
    document.getElementById("rate21").innerText = `${(purities['21K']*USD_TO_KWD).toFixed(3)}`;
    document.getElementById("rate18").innerText = `${(purities['18K']*USD_TO_KWD).toFixed(3)}`;

    const now = new Date();
    document.getElementById("timestamp").innerText = "Last updated: " + now.toLocaleString();
  } catch(err) {
    console.error("Error fetching gold data:", err);
    document.getElementById("ounceRate").innerText = "Error loading data";
    document.getElementById("rate24").innerText = "---";
    document.getElementById("rate22").innerText = "---";
    document.getElementById("rate21").innerText = "---";
    document.getElementById("rate18").innerText = "---";
  }
}

// Initial load
fetchUSDToKWD().then(() => {
  fetchGold();
  setInterval(fetchUSDToKWD, 600000); // update USD/KWD every 10 min
  setInterval(fetchGold, 10000);       // fetch gold every 10 sec
});
</script>

</body>
</html>