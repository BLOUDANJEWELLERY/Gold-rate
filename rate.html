<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Live Gold Rate</title>
<style>
body { font-family: Arial, sans-serif; text-align: center; padding: 40px; background: #faf9f6; color: #333; }
.container { max-width: 400px; margin: auto; background: #fff; border-radius: 12px; padding: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
h1 { color: #b8860b; }
.rate { font-size: 2em; margin: 20px 0; }
.sub { color: #666; font-size: 0.9em; }
button { background: #b8860b; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-top: 15px; }
button:hover { background: #a0760a; }
</style>
</head>
<body>
<div class="container">
  <h1>Live Gold Rate</h1>
  <div id="usdRate" class="rate">Loading...</div>
  <div id="gramRate" class="sub"></div>
  <div id="kwdRate" class="sub"></div>
  <p id="timestamp" class="sub"></p>
  <button onclick="fetchGold()">Refresh</button>
</div>

<script>
async function fetchGold() {
  try {
    const res = await fetch("https://api.gold-api.com/price/XAU");
    const data = await res.json();
    const usdPerOunce = data.price;
    const usdPerGram = usdPerOunce / 31.1035;
    const usdToKwd = 0.31; // example conversion rate
    const kwdPerGram = usdPerGram * usdToKwd;

    document.getElementById("usdRate").innerText = `$${usdPerOunce.toFixed(2)} / oz`;
    document.getElementById("gramRate").innerText = `$${usdPerGram.toFixed(2)} / gram`;
    document.getElementById("kwdRate").innerText = `${kwdPerGram.toFixed(3)} KWD / gram`;
    document.getElementById("timestamp").innerText = "Last updated: " + data.updatedAtReadable;
  } catch (err) {
    console.error(err);
    document.getElementById("usdRate").innerText = "Error fetching data";
  }
}

// Load first time
fetchGold();
// Refresh every minute
setInterval(fetchGold, 60000);
</script>
</body>
</html>